<!DOCTYPE html>
<html lang="FR-fr">
<head>
    <meta charset="UTF-8">
    <title> movies</title>
    <link href="../css/style.css" rel="stylesheet">
</head>
<body>

<h1> recherche dans la base de films </h1>

<div>
    <input type="text" name="term" id="term" placeholder="tapez votre recherche">
    <button id="btnSearch">Chercher</button>
</div>

<div id="results"></div>
    <script>
        src="https://unpkg.com/axios.min.js"
    </script>

    <script>
        const API_KEY ="my key"
        const btnSearch = document.querySelector('#term');

        btnSearch.addEventListener('click', search);

        let resultDiv = document.querySelector('#results');

        function search() {
            const query = `https://api.moviedb.org/3/search/movie?api_key=${API_KEY}&query=${term.value}`;
            axios.get(query).then( //axios permet de faire des requetes.
                (response) => {
                    console.log(response);
                    display(response);
                }
            )

        }
        function display(results) {
            resultDiv.innerHTML = '';
            for(let result of results) {
                let movieDiv = document.createElement('div');
                movieDiv.innerHTML = result.title;
            }
        }

    </script>
<% include ./partials/footer%>

</body>